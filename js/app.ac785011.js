(function(t){function e(e){for(var n,a,r=e[0],h=e[1],u=e[2],l=0,f=[];l<r.length;l++)a=r[l],o[a]&&f.push(o[a][0]),o[a]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var h=i[r];0!==o[h]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},o={1:0},s=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],h=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=h;s.push([3,0]),i()})({"00LD":function(t,e,i){},3:function(t,e,i){t.exports=i("Vtdi")},"3+2e":function(t,e,i){},"8Tp6":function(t,e,i){"use strict";var n=i("hEmB"),o=i.n(n);o.a},Vtdi:function(t,e,i){"use strict";i.r(e);i("VRzm");var n=i("Kw5r"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("game-of-life",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"left"},[i("game-canvas",{ref:"canvas",attrs:{canvasWidth:t.canvas.width,canvasHeight:t.canvas.height,tileHeight:t.config.tileSize.width,tileWidth:t.config.tileSize.height,inGame:t.inGame},on:{toggleTile:t.toggleTile,birthTile:t.birthTile}})],1),t._v(" "),i("game-controls",{staticClass:"right",attrs:{neighborsToBeBorn:t.gameConfig.neighborsToBeBorn,minToLive:t.gameConfig.minNeighborsToSurvive,maxToLive:t.gameConfig.maxNeighborsToSurvive,inGame:t.inGame,turn:t.turn},on:{configChange:t.handleConfigChange,startGame:t.startGame,stopGame:function(e){t.inGame=!1},reset:t.reset,next:t.next,prev:t.prev}})],1)},r=[],h=(i("hhXQ"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{on:{mousedown:t.handleMouseDown,mousemove:function(e){return e.preventDefault(),t.handleMouseMove(e)},mouseup:t.handdleMouseUp,click:function(e){return e.preventDefault(),t.toggleTile(e)}}})}),u=[],c={props:["tileWidth","tileHeight","canvasWidth","canvasHeight","inGame"],data:function(){return{ctx:{},isDragging:!1}},methods:{drawGrid:function(){var t=this;this.ctx.strokeStyle="black",this.ctx.fillStyle="white";var e='\n      <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n          <pattern id="smallGrid" width="'.concat(this.tileWidth,'" height="').concat(this.tileHeight,'" patternUnits="userSpaceOnUse">\n            <path d="M ').concat(this.tileWidth," 0 L 0 0 0 ").concat(this.tileHeight,'" fill="none" stroke="gray" stroke-width="0.5" />\n          </pattern>\n        </defs>\n          <rect width="100%" height="100%" fill="url(#smallGrid)" />\n      </svg>\n      '),i=window.URL||window.webkitURL||window,n=new Image,o=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),s=i.createObjectURL(o);n.onload=function(){t.ctx.drawImage(n,0,0),i.revokeObjectURL(s),t.$el.style.backgroundImage="url("+t.$el.toDataURL("image/svg")+")",t.clear()},n.src=s},handleMouseDown:function(){this.isDragging=!0},handdleMouseUp:function(){this.isDragging=!1},handleMouseMove:function(t){if(this.isDragging&&!this.inGame){var e=this.getCoordinates(t),i=e.x,n=e.y;this.$emit("birthTile",i+"-"+n)}},toggleTile:function(t){if(!this.inGame){var e=this.getCoordinates(t),i=e.x,n=e.y;this.$emit("toggleTile",i+"-"+n)}},getCoordinates:function(t){var e=Math.floor(t.offsetX/this.tileWidth),i=Math.floor(t.offsetY/this.tileHeight);return{x:e,y:i}},drawTile:function(t){this.ctx.fillStyle="black","ALIVE"===t.status?this.ctx.fillRect(t.posX,t.posY,this.tileWidth,this.tileHeight):this.ctx.clearRect(t.posX,t.posY,this.tileWidth,this.tileHeight)},clear:function(){this.ctx.clearRect(0,0,this.$el.width,this.$el.height)}},mounted:function(){this.$el.width=this.canvasWidth,this.$el.height=this.canvasHeight,this.ctx=this.$el.getContext("2d"),this.drawGrid()}},l=c,f=i("KHd+"),g=Object(f["a"])(l,h,u,!1,null,null,null),v=g.exports,d=function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"controls"},[n("h3",[e._v("Generation: "+e._s(e.turn))]),e._v(" "),n("div",[n("label",{attrs:{for:""}},[e._v("Neighbors to be born:")]),e._v(" "),n("input",{attrs:{type:"number",disabled:e.inGame},domProps:{value:e.neighborsToBeBorn},on:{change:function(e){return t.configChange("neighborsToBeBorn",e.target.value)}}})]),e._v(" "),n("div",[n("label",{attrs:{for:""}},[e._v("Min neighbors to live:")]),e._v(" "),n("input",{attrs:{type:"number",disabled:e.inGame},domProps:{value:e.minToLive},on:{change:function(e){return t.configChange("minNeighborsToSurvive",e.target.value)}}})]),e._v(" "),n("div",[n("label",{attrs:{for:""}},[e._v("Max neighbors to live:")]),e._v(" "),n("input",{attrs:{type:"number",disabled:e.inGame},domProps:{value:e.maxToLive},on:{change:function(e){return t.configChange("maxNeighborsToSurvive",e.target.value)}}})]),e._v(" "),n("button",{on:{click:function(t){e.$emit("startGame")}}},[e._v("Start")]),e._v(" "),n("button",{on:{click:function(t){e.$emit("stopGame")}}},[e._v("Stop")]),e._v(" "),n("button",{on:{click:function(t){e.$emit("reset")}}},[e._v("Reset")]),e._v(" "),n("div",{staticClass:"buttons-container"},[n("button",{on:{click:function(t){e.$emit("prev")}}},[e._v("Previous")]),e._v(" "),n("button",{on:{click:function(t){e.$emit("next")}}},[e._v("Next")])])])},m=[],p={props:["maxToLive","minToLive","neighborsToBeBorn","turn","inGame"],methods:{configChange:function(t,e){this.$emit("configChange",t,e)}}},b=p,w=(i("d3bP"),Object(f["a"])(b,d,m,!1,null,null,null)),T=w.exports,x={components:{GameCanvas:v,GameControls:T},data:function(){return{gameConfig:{minNeighborsToSurvive:2,maxNeighborsToSurvive:4,neighborsToBeBorn:3},config:{tileSize:{width:8,height:8}},canvas:{width:0,height:0},tiles:{},inGame:!1,turn:0,undoStack:[]}},methods:{makeTiles:function(){for(var t=Math.floor(this.canvas.width/this.config.tileSize.width),e=Math.floor(this.canvas.height/this.config.tileSize.height),i=0;i<t;i++)for(var n=0;n<e;n++)this.tiles[i+"-"+n]={status:"DEAD",posX:i*this.config.tileSize.width,posY:n*this.config.tileSize.height,x:i,y:n}},birthTile:function(t){var e=this.tiles[t];e.status="ALIVE",this.$refs.canvas.drawTile(e)},toggleTile:function(t){var e=this.tiles[t];e.status="DEAD"===e.status?"ALIVE":"DEAD",this.$refs.canvas.drawTile(e)},getAliveNeighbors:function(t){for(var e=t.x,i=t.y,n=0,o=e-1;o<=e+1;o++)for(var s=i-1;s<=i+1;s++)o===e&&s===i||this.tiles[o+"-"+s]&&"ALIVE"===this.tiles[o+"-"+s].status&&n++;return n},shouldDie:function(t){var e=this.getAliveNeighbors(t),i=e>=this.gameConfig.maxNeighborsToSurvive||e<this.gameConfig.minNeighborsToSurvive;return i},shouldBeBorn:function(t){var e=this.getAliveNeighbors(t);return e===this.gameConfig.neighborsToBeBorn},runGame:function(){var t=this,e=Object.values(this.tiles),i=e.filter(function(t){return"DEAD"===t.status}),n=e.filter(function(t){return"ALIVE"===t.status}),o=[],s=[];i.forEach(function(e){return t.shouldBeBorn(e)&&s.push(e)}),n.forEach(function(e){return t.shouldDie(e)&&o.push(e)}),o.forEach(this.updateStatus("DEAD")),s.forEach(this.updateStatus("ALIVE")),this.undoStack.push({killed:o,birthed:s}),o=[],s=[],this.turn++,setTimeout(function(){t.inGame&&t.runGame()},80)},startGame:function(){this.inGame=!0,this.runGame()},handleConfigChange:function(t,e){this.gameConfig[t]=+e},reset:function(){this.inGame=!1,this.makeTiles(),this.turn=0,this.undoStack=[],this.$refs.canvas.clear()},next:function(){this.inGame||this.runGame()},prev:function(){if(!this.inGame&&0!==this.undoStack.length){var t=this.undoStack.pop();t.killed.forEach(this.updateStatus("ALIVE")),t.birthed.forEach(this.updateStatus("DEAD")),this.turn--}},updateStatus:function(t){var e=this;return function(i){i.status=t,e.$refs.canvas.drawTile(i)}}},created:function(){this.canvas.width=70*window.innerWidth/100,this.canvas.height=window.innerHeight},mounted:function(){this.makeTiles()}},G=x,_=G,S=(i("8Tp6"),Object(f["a"])(_,a,r,!1,null,null,null)),C=S.exports,k={name:"app",components:{GameOfLife:C}},D=k,E=(i("ZL7j"),Object(f["a"])(D,o,s,!1,null,null,null)),L=E.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(L)}}).$mount("#app")},ZL7j:function(t,e,i){"use strict";var n=i("00LD"),o=i.n(n);o.a},d3bP:function(t,e,i){"use strict";var n=i("3+2e"),o=i.n(n);o.a},hEmB:function(t,e,i){}});
//# sourceMappingURL=app.ac785011.js.map